---
title: poj1321_棋盘问题
date: 2018-04-18 00:23:44
categories:
- acm
- POJ
tags:
- dfs
---

# 1.[题目](http://poj.org/problem?id=1321)

{% assert_img a.jpg %}

{% assert_img b.jpg %}

# 2.解析

* 按行搜索，每行选择放和不放。
* 如果选择放，按列标记。

# 3.代码

```c++
//#include <bits/stdc++.h>
#include <cstdio>
#include <cstring>
using namespace std;

int n, k, vis[10], amount; 
char mp[10][10];

void dfs(int raw, int k) {
    if (raw >= n && k != 0) return;
    if (n-raw<k) return;
    if (k == 0) {
        amount ++;
        return;
    }
    for (int i = 0; i < n; ++ i) {
        if (vis[i] || mp[raw][i] == '.') continue;
        vis[i] = 1;
        dfs(raw+1, k-1);
        vis[i] = 0;
    }
    dfs(raw+1, k);
}

int main() {
    while (scanf("%d %d", &n, &k) && n + k != -2) {
        for (int i = 0; i < n; ++ i) scanf("%s", mp[i]);
        memset(vis, 0, sizeof(vis));
        amount = 0;
        dfs(0, k);
        printf("%d\n", amount);
    }
    return 0;
}

```

